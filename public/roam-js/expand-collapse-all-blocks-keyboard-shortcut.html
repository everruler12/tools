<button class="button" onclick="copyCode()">Copy code</button>
<script>
    function copyCode() {
        let listener = function(e) {
            e.clipboardData.setData("text/plain", "- \n- {{roam/js}}\n    - ```javascript\n/*\nKeyboard shortcuts to expand/collapse all blocks on page.\nBy Erik Newhard\nhttps://roamresearch.com/#/app/roam-depot-developers/page/hQRML8xNy\nNote: Doesn't work on DAILY NOTES\n(but it does if you open one daily note)\n*/\n\n;(function() {\n  let s = document.createElement('script')\n  s.src = \"https://tools.eriknewhard.com/roam-js/expand-collapse-all-blocks-keyboard-shortcut.js\"\n  document.head.appendChild(s)\n})();```\n- \n")
            e.clipboardData.setData("text/html", "<html>\r\n<body>\r\n<!--StartFragment--><ul><li style=\"text-align:inherit;\"><span style=\"text-align:inherit;\"><span></span></span></li><li style=\"text-align:inherit;\"><span style=\"text-align:inherit;\"><span>{{roam/js}}</span></span><ul><li style=\"text-align:inherit;\"><span style=\"text-align:inherit;\"><span><pre><code>javascript\n/*\nKeyboard shortcuts to expand/collapse all blocks on page.\nBy Erik Newhard\nhttps://roamresearch.com/#/app/roam-depot-developers/page/hQRML8xNy\nNote: Doesn't work on DAILY NOTES\n(but it does if you open one daily note)\n*/\n\n;(function() {\n  let s = document.createElement('script')\n  s.src = \"https://tools.eriknewhard.com/roam-js/expand-collapse-all-blocks-keyboard-shortcut.js\"\n  document.head.appendChild(s)\n})();</code></pre></span></span></li></ul></li><li style=\"text-align:inherit;\"><span style=\"text-align:inherit;\"><span></span></span></li></ul><!--EndFragment-->\r\n</body>\r\n</html>")
            e.clipboardData.setData("roam/data", "[\"^ \",\"~:db-id\",\"roam-depot-developers\",\"~:type\",\"~:copy\",\"~:copied-data\",[[\"^ \",\"~:block/string\",\"\",\"~:create/email\",\"erik.newhard@gmail.com\",\"~:create/time\",1601020051487,\"~:block/uid\",\"L7jPwQn-P\",\"~:block/open\",true,\"~:edit/time\",1601020051487,\"~:edit/email\",\"erik.newhard@gmail.com\",\"~:block/order\",5],[\"^ \",\"^4\",\"{{roam/js}}\",\"^5\",\"erik.newhard@gmail.com\",\"^6\",1600315023789,\"~:block/children\",[[\"^ \",\"^4\",\"~```javascript\\n/*\\nKeyboard shortcuts to expand/collapse all blocks on page.\\nBy Erik Newhard\\nhttps://roamresearch.com/#/app/roam-depot-developers/page/hQRML8xNy\\nNote: Doesn't work on DAILY NOTES\\n(but it does if you open one daily note)\\n*/\\n\\n;(function() {\\n  let s = document.createElement('script')\\n  s.src = \\\"https://tools.eriknewhard.com/roam-js/expand-collapse-all-blocks-keyboard-shortcut.js\\\"\\n  document.head.appendChild(s)\\n})();```\",\"^5\",\"erik.newhard@gmail.com\",\"^6\",1600315029624,\"^7\",\"T-d1BhF_8\",\"^8\",true,\"^9\",1601021211308,\"^:\",\"erik.newhard@gmail.com\",\"^;\",0]],\"^7\",\"WvHb5evhm\",\"^8\",true,\"^9\",1600921027758,\"^:\",\"erik.newhard@gmail.com\",\"^;\",6],[\"^ \",\"^4\",\"\",\"^5\",\"erik.newhard@gmail.com\",\"^6\",1600318779269,\"^7\",\"yOa6FOii6\",\"^8\",true,\"^9\",1600318800798,\"^:\",\"erik.newhard@gmail.com\",\"^;\",7]]]")
            e.preventDefault()
        }
        document.addEventListener("copy", listener)
        document.execCommand("copy")
        document.removeEventListener("copy", listener)
    }
</script>